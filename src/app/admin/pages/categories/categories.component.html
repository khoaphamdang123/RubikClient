<div class="categories-container">
  <!-- Header -->
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">Category Management</h1>
      <button class="btn btn-primary" (click)="openAddModal()">
        <span>‚ûï</span>
        <span>Add Category</span>
      </button>
    </div>
    
    <!-- Search Bar -->
    <div class="search-bar">
      <input
        type="text"
        class="form-control"
        placeholder="Search categories..."
        [(ngModel)]="searchTerm"
        (input)="onSearch()">
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>Loading categories...</p>
  </div>

  <!-- Categories Grid -->
  <div *ngIf="!isLoading" class="categories-grid">
    <div *ngIf="filteredCategories.length === 0" class="empty-state">
      <p>No categories found</p>
    </div>

    <div *ngFor="let category of filteredCategories" class="category-card">
      <div class="category-icon">
        <span class="icon-text">{{ category.icon || 'üè∑Ô∏è' }}</span>
      </div>
      <div class="category-info">
        <h3 class="category-name">{{ category.name }}</h3>
        <p class="category-description">{{ category.description || 'No description' }}</p>
        <div class="category-actions">
          <button
            class="btn btn-sm btn-outline-primary"
            (click)="openEditModal(category)">
            ‚úèÔ∏è Edit
          </button>
          <button
            class="btn btn-sm btn-danger"
            (click)="deleteCategory(category)">
            üóëÔ∏è Delete
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Add/Edit Modal -->
  <div *ngIf="isModalOpen" class="modal-overlay" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h2 class="modal-title">{{ isEditMode ? 'Edit Category' : 'Add New Category' }}</h2>
        <button class="modal-close" (click)="closeModal()">√ó</button>
      </div>

      <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()" class="modal-body">
        <div class="form-group">
          <label class="form-label">Category Name *</label>
          <input
            type="text"
            class="form-control"
            formControlName="name"
            [class.invalid]="categoryForm.get('name')?.invalid && categoryForm.get('name')?.touched">
          <div *ngIf="categoryForm.get('name')?.invalid && categoryForm.get('name')?.touched" class="form-error">
            Category name is required
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Description</label>
          <textarea
            class="form-control"
            formControlName="description"
            rows="3"
            placeholder="Enter category description (optional)"></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">Icon (Emoji)</label>
          <input
            type="text"
            class="form-control"
            formControlName="icon"
            placeholder="üè∑Ô∏è (optional)">
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancel</button>
          <button type="submit" class="btn btn-primary" [disabled]="categoryForm.invalid">
            {{ isEditMode ? 'Update' : 'Create' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>










