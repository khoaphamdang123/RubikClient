<div class="products-container">
  <!-- Header -->
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">Product Management</h1>
      <button class="btn btn-primary" (click)="openAddModal()">
        <span>‚ûï</span>
        <span>Add Product</span>
      </button>
    </div>
    
    <!-- Search Bar -->
    <div class="search-bar">
      <input
        type="text"
        class="form-control"
        placeholder="Search products by name, description, or features..."
        [(ngModel)]="searchTerm"
        (input)="onSearch()">
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>Loading products...</p>
  </div>

  <!-- Products Grid -->
  <div *ngIf="!isLoading" class="products-grid">
    <div *ngIf="filteredProducts.length === 0" class="empty-state">
      <p>No products found</p>
    </div>

    <div *ngFor="let product of filteredProducts" class="product-card">
      <div class="product-image">
        <img
          [src]="product.avatar"
          [alt]="product.name"
          onerror="this.src='assets/images/rubik.png'">
      </div>
      <div class="product-info">
        <h3 class="product-name">{{ product.name }}</h3>
        <p class="product-description">{{ product.description || 'No description' }}</p>
        <div class="product-actions">
          <button
            class="btn btn-sm btn-outline-primary"
            (click)="openEditModal(product)">
            ‚úèÔ∏è Edit
          </button>
          <button
            class="btn btn-sm btn-danger"
            (click)="deleteProduct(product)">
            üóëÔ∏è Delete
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Add/Edit Modal -->
  <div *ngIf="isModalOpen" class="modal-overlay" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h2 class="modal-title">{{ isEditMode ? 'Edit Product' : 'Add New Product' }}</h2>
        <button class="modal-close" (click)="closeModal()">√ó</button>
      </div>

      <form [formGroup]="productForm" (ngSubmit)="onSubmit()" class="modal-body">
        <div class="form-group">
          <label class="form-label">Product Name *</label>
          <input
            type="text"
            class="form-control"
            formControlName="name"
            [class.invalid]="productForm.get('name')?.invalid && productForm.get('name')?.touched">
          <div *ngIf="productForm.get('name')?.invalid && productForm.get('name')?.touched" class="form-error">
            Product name is required
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Description *</label>
          <textarea
            class="form-control"
            formControlName="description"
            rows="4"
            [class.invalid]="productForm.get('description')?.invalid && productForm.get('description')?.touched"></textarea>
          <div *ngIf="productForm.get('description')?.invalid && productForm.get('description')?.touched" class="form-error">
            Description is required
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Image URL *</label>
          <input
            type="url"
            class="form-control"
            formControlName="avatar"
            placeholder="https://example.com/image.jpg"
            [class.invalid]="productForm.get('avatar')?.invalid && productForm.get('avatar')?.touched">
          <div *ngIf="productForm.get('avatar')?.invalid && productForm.get('avatar')?.touched" class="form-error">
            Image URL is required
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Features</label>
          <textarea
            class="form-control"
            formControlName="features"
            rows="3"
            placeholder="Enter product features (optional)"></textarea>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancel</button>
          <button type="submit" class="btn btn-primary" [disabled]="productForm.invalid">
            {{ isEditMode ? 'Update' : 'Create' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>










